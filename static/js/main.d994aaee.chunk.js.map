{"version":3,"sources":["reducers/login.js","reducers/profile.js","reducers/news.js","reducers/index.js","actions/LoginActions.js","actions/ProfileActions.js","actions/NewsActions.js","store/configureStore.js","components/Home.js","components/News.js","containers/NewsContainer.js","components/Profile.js","containers/ProfileContainer.js","components/Login.js","containers/LoginContainer.js","components/NotFound.js","components/App.js","registerServiceWorker.js","index.js"],"names":["initialState","name","id","error","isFetching","data","webToUp","new_soc","social","forEach","item","index","label","unshift","push","rootReducer","combineReducers","login","state","action","type","payload","message","profile","news","store","createStore","applyMiddleware","thunk","logger","Home","React","Component","News","renderTemplate","props","map","key","title","text","length","this","loadNews","connect","dispatch","require","ajax","url","method","success","status","Error","err","Profile","do_className","cl","city","languages","className","href","link","loadData","ProfileContainer","$","console","log","Login","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","button","current","disabled","test","email","handleLogin","password","onSubmit","onChange","placeholder","ref","createRef","from","to","LoginContainer","logOut","username","NotFound","App","path","component","NewsContainer","render","exact","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","catch","ReactDOM","document","getElementById","URL","process","origin","addEventListener","fetch","response","headers","get","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.d994aaee.chunk.js","sourcesContent":["import {\n  LOGIN_REQUEST,\n  LOGIN_SUCCESS,\n  LOGIN_FAIL,\n  LOGOUT,\n} from '../actions/LoginActions'\n\nconst initialState = {\n  name: '',\n  id: 0,\n  error: '',\n  isFetching: false,\n}\n\nexport function loginReducer(state = initialState, action) {\n  switch (action.type) {\n    case LOGIN_REQUEST:\n      return { ...state, isFetching: true, error: '' }\n\n    case LOGIN_SUCCESS:\n      return { ...state, isFetching: false, id: action.payload }\n      \n\n    case LOGIN_FAIL:\n      return { ...state, isFetching: false, error: action.payload.message }\n\n    case LOGOUT:\n      return { ...state, name: '', id: 0, isFetching: false, error: '' }\n\n    default:\n      return state\n  }\n}\n","import {\n  DATA_REQUEST,\n  GET_DATA_SUCCESS,\n  GET_DATA_FAIL,\n} from '../actions/ProfileActions'\n\nconst initialState = {\n  data: null,\n  error: '',\n  isFetching: false,\n}\n\nfunction webToUp(data){\n  let new_soc = [];\n      data.data.social.forEach((item,index)=>{\n        item.label===\"web\" ? new_soc.unshift(item) : new_soc.push(item)\n      })\n      data.data.social = new_soc;\n      return data;\n}\n\nexport function profileReducer(state = initialState, action) {\n  switch (action.type) {\n    case DATA_REQUEST:\n      return { ...state, isFetching: true, error: '' }\n\n    case GET_DATA_SUCCESS:\n      return { ...state, isFetching: false, data: webToUp(action.payload) }\n      \n\n    case GET_DATA_FAIL:\n      return { ...state, isFetching: false, error: action.payload.message }\n\n    default:\n      return state\n  }\n}\n","import {\n  NEWS_REQUEST,\n  GET_NEWS_SUCCESS,\n  GET_NEWS_FAIL,\n} from '../actions/NewsActions'\n\nconst initialState = {\n  data: null,\n  error: '',\n  isFetching: false,\n}\n\n\nexport function newsReducer(state = initialState, action) {\n  \n  switch (action.type) {\n    case NEWS_REQUEST:\n      return { ...state, isFetching: true, error: '' }\n\n    case GET_NEWS_SUCCESS:\n      return { ...state, isFetching: false, data: action.payload }\n      \n\n    case GET_NEWS_FAIL:\n      return { ...state, isFetching: false, error: action.payload.message }\n\n    default:\n      return state\n  }\n}\n\n\n","import { combineReducers } from 'redux'\nimport { loginReducer } from './login'\nimport { profileReducer } from './profile'\nimport { newsReducer } from './news';\n\nexport const rootReducer = combineReducers({\n  login: loginReducer,\n  profile: profileReducer,\n  news: newsReducer,\n})\n","\nexport const LOGIN_REQUEST = 'LOGIN_REQUEST'\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS'\nexport const LOGIN_FAIL = 'LOGIN_FAIL'\nexport const LOGOUT = 'LOGOUT'\n\n\n\nexport function handleLogin(username, password) {\n  return function(dispatch) {\n    dispatch({\n      type: LOGIN_REQUEST,\n    })\n\n    let $ = require('jquery')\n    $.ajax({\n      url:\t\"https://mysterious-reef-29460.herokuapp.com/api/v1/validate\",\n      method:\t\"POST\",\t\t\t\t\t\t\t\t\n      data:\t{\"email\" : username,\n      \"password\":password},\n      success:\tfunction\t(data)\t{\n            if(data.status===\"ok\"){\n              dispatch({\n                type: LOGIN_SUCCESS,\n                payload: data.data.id,\n              })\n            } else {\n              dispatch({\n                type: LOGIN_FAIL,\n                error: true,\n                payload: new Error('Имя пользователя или пароль введены неверно'),\n              })\n            }\n      },\n      error: function (err){\n        dispatch({\n          type: LOGIN_FAIL,\n          error: true,\n          payload: new Error('Ошибка авторизации'),\n        })\n      }\n    });\n\n\n\n  }\n}\nexport function logOut() {\n  return{\n    type: LOGOUT,\n  }\n\n}\n","export const DATA_REQUEST = 'DATA_REQUEST'\nexport const GET_DATA_SUCCESS = 'GET_DATA_SUCCESS'\nexport const GET_DATA_FAIL = 'GET_DATA_FAIL'\n\nexport function loadData(id) {\n  return function(dispatch) {\n    dispatch({\n      type: DATA_REQUEST,\n    })\n\n    let $ = require('jquery')\n    let url = \"https://mysterious-reef-29460.herokuapp.com/api/v1/user-info/\" + id;\n    console.log(\"url = \", url);\n    $.ajax({\n      url:\turl,\t\n      method:\t\"GET\",\n      success:\tfunction\t(data)\t{\n            if(data.status===\"ok\"){\n              dispatch({\n                type: GET_DATA_SUCCESS,\n                payload: data,\n              })\n            } else{\n              dispatch({\n                type: GET_DATA_FAIL,\n                error: true,\n                payload: new Error('Пользователь не найден'),\n              })\n            }\n      },\n      error: function (err){\n        dispatch({\n          type: GET_DATA_FAIL,\n          error: true,\n          payload: new Error('Ошибка получения даенных'),\n        })\n      }\n    });\n\n\n  }\n}\n","export const NEWS_REQUEST = 'NEWS_REQUEST'\nexport const GET_NEWS_SUCCESS = 'GET_NEWS_SUCCESS'\nexport const GET_NEWS_FAIL = 'GET_NEWS_FAIL'\n\n\nexport function loadNews() {\n  return function(dispatch) {\n    dispatch({\n      type: NEWS_REQUEST,\n    })\n\n    let $ = require('jquery')\n    $.ajax({\n      url:\t\"https://mysterious-reef-29460.herokuapp.com/api/v1/news/\",\n      method:\t\"GET\",\t\t\t\t\t\t\t\t\t\t\t\n      success:\tfunction\t(data)\t{\n            if(data.status===\"ok\"){\n              dispatch({\n                type: GET_NEWS_SUCCESS,\n                payload: data,\n              })\n            } else{\n              dispatch({\n                type: GET_NEWS_FAIL,\n                error: true,\n                payload: new Error('Пользователь не найден'),\n              })\n            }\n      },\n      error: function (err){\n        dispatch({\n          type: GET_NEWS_FAIL,\n          error: true,\n          payload: new Error('Ошибка получения даенных'),\n        })\n      }\n    });\n\n\n  }\n}\n","import { createStore, applyMiddleware } from 'redux'\nimport { rootReducer } from '../reducers'\nimport logger from 'redux-logger'\nimport thunk from 'redux-thunk'\n\nexport const store = createStore(rootReducer, applyMiddleware(thunk, logger))\n","import React from 'react'\n\n\nexport default class Home extends React.Component {\n  \n  render() {\n\n    return (\n\n        <h1>Главная страница</h1>\n        \n    )\n  }\n}","import React from 'react'\nimport PropTypes from 'prop-types'\n\nexport default class News extends React.Component {\n  componentDidMount(){\n    this.props.loadNews();\n  }\n  renderTemplate = () => {\n\n    const { data, error, isFetching } = this.props\n\n    if (error) {\n      return <p>Во время запроса произошла ошибка {error}</p>\n    }\n\n    if (isFetching) {\n      return <p>Загрузка...</p>\n    }\n\n    \n    if (data) {\n      return (\n      <div>\n        {data.data.map((item,index)=>(<div key={index}><h2>{item.title}</h2><br/><p>{item.text}</p><hr/></div>))}\n        <p>Всего новостей {data.data.length}</p>               \n      </div>\n        )\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <h1>Новости</h1>\n        {this.renderTemplate()}\n      </div>\n    )\n  }\n}\nNews.propTypes = {\n  error: PropTypes.string,\n  isFetching: PropTypes.bool.isRequired,\n  loadNews: PropTypes.func.isRequired,\n}\n\n","import { connect } from 'react-redux'\nimport  News  from '../components/News'\nimport { loadNews } from '../actions/NewsActions'\n\n\n\nconst mapStateToProps = store => {\n  return {\n    data: store.news.data,\n    error: store.news.error,\n    isFetching: store.news.isFetching,\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    loadNews: () => dispatch(loadNews()),\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(News)\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nexport default class Profile extends React.Component {\n\n  componentDidMount(){\n    const { loadData, id } = this.props\n    loadData(id);\n  }\n\n  do_className = (cl) => {\n    let classList = cl + ' label';\n    return classList;\n  }\n\n  renderTemplate = () => {\n\n    const { data, error, isFetching } = this.props\n\n    if (error) {\n      return <p>Во время запроса произошла ошибка {error}</p>\n    }\n\n    if (isFetching) {\n      return <p>Загрузка...</p>\n    }\n\n    if (data) {\n      return (\n      <div>\n        <h1>Профиль</h1>\n        <p>Город: {data.data.city}</p>\n        <p>Знания языков:</p>\n        <ul>\n          {data.data.languages.map((item,index)=>(<li key={index}>+{item}</li>))}         \n        </ul>\n        <p>Ссылки:</p>\n        <ul className=\"soc\">\n          {data.data.social.map((item,index)=>(\n          <li key={index} className=\"soc_item\">+\n          <a href={item.link}>\n            <div className={this.do_className(item.label)}></div>\n            <div>{item.label}</div>\n          </a></li>))}         \n        </ul>\n      </div>\n        )\n    }\n  }\n  render() {\n    \n       \n    return (\n      <div className=\"profile\">\n        {this.renderTemplate()}\n      </div>\n\n    )\n\n\n  }\n}\n\nProfile.propTypes = {\n  id: PropTypes.number.isRequired,\n  loadData: PropTypes.func.isRequired,\n  error: PropTypes.string,\n  isFetching: PropTypes.bool.isRequired,\n}\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport  Profile  from '../components/Profile'\nimport { loadData } from '../actions/ProfileActions'\n\n\nclass ProfileContainer extends React.Component {\n  render() {\n    const { loadData, profile, id  } = this.props\n    return (\n       <Profile\n        data={profile.data}\n        error={profile.error}\n        isFetching={profile.isFetching}\n        loadData={loadData}\n        id={id}\n       />\n    )\n  }\n}\n\nconst mapStateToProps = store => {\n  return {\n    profile: store.profile,\n    id: store.login.id,\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    loadData: (id) => dispatch(loadData(id)),\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ProfileContainer)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Redirect } from \"react-router-dom\"\n\n\nexport class Login extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      email: '',\n      password: '',\n      error: false,\n\n    }\n    this.button = React.createRef();\n  }\n  \n\n  handleChange=(e)=>{\n    this.setState({error:false});\n    const { name,value } = e.currentTarget;\n\n    this.setState({[name]: value});\n    \n\n  }\n\n  handleSubmit=(e)=>{\n    e.preventDefault();\n    this.button.current.disabled = true;\n    if(!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(this.state.email)){\n      this.setState({error:true});\n      this.button.current.disabled = false;\n\n    }\n    else {\n      this.props.handleLogin(this.state.email,this.state.password);\n      \n    }\n\n  }\n\n\n  renderTemplate = () => {\n    \n    const { error, isFetching } = this.props\n    const { name, password, } = this.state\n\n\n    if(this.button.current) error && (this.button.current.disabled = false)\n    \n      return (\n        \n        <div>\n          {error && <p className=\"error\">{error}</p>}\n          {isFetching && <p>Загрузка...</p>}\n\n          {this.state.error && <p className=\"error\">Введен некорректный email</p>}\n          \n          \n          <form onSubmit={this.handleSubmit}>\n            <input id=\"id_email\" type=\"text\" name=\"email\" value={name} onChange={this.handleChange}  placeholder=\"Email\" /><br/><br/>\n            <input id=\"id_password\" type=\"text\" name=\"password\"  value={password} onChange={this.handleChange} placeholder=\"Password\" /><hr />\n            \n            \n            <button type=\"submit\" ref = {this.button}>Войти</button>\n            \n          </form>\n        </div>\n      )\n  \n  }\n  render() {\n     \n    if(this.props.id){\n       return(\n          <Redirect from='/login' to='/profile' />\n    )}\n\n    return (\n      <div className=\"auto\">        \n        <h1>Авторизация</h1>    \n        {this.renderTemplate()}\n    </div>\n    )\n  }\n}\n\nLogin.propTypes = {\n  name: PropTypes.string.isRequired,\n  error: PropTypes.string,\n  isFetching: PropTypes.bool.isRequired,\n  handleLogin: PropTypes.func.isRequired,\n  id: PropTypes.number,\n}\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Login } from '../components/Login'\nimport { handleLogin, logOut } from '../actions/LoginActions'\n\nclass LoginContainer extends React.Component {\n  componentDidMount(){\n    const { login, logOut } = this.props\n    if(login.id) logOut();\n  }\n  render() {\n    const { login, handleLogin } = this.props\n    \n    return (\n      <Login\n        name={login.name}\n        id={login.id}\n        error={login.error}\n        isFetching={login.isFetching}\n        handleLogin={handleLogin}\n      />\n    )\n  }\n}\n\nconst mapStateToProps = store => {\n  return {\n    login: store.login,\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    handleLogin: (username,password) => dispatch(handleLogin(username,password)),\n    logOut: () => dispatch(logOut()),\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(LoginContainer)\n","import React from 'react'\n\nexport default class NotFound extends React.Component {\n\n  render() {\n\n\n    return (\n        <h1>Not found</h1>\n\n    )\n  }\n}\n\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Route, Switch, Redirect } from \"react-router-dom\"\nimport { connect } from 'react-redux'\nimport { Link } from \"react-router-dom\"\nimport  Home  from '../components/Home'\nimport  NewsContainer  from '../containers/NewsContainer'\nimport  ProfileContainer  from '../containers/ProfileContainer'\nimport  LoginContainer  from '../containers/LoginContainer'\nimport  NotFound  from '../components/NotFound'\n\nclass App extends React.Component {\n\n  render() {\n    \n    const {id} = this.props\n    return (\n      <div className=\"app\">\n        \n        <div className=\"nav\">\n          <Link to='/home'>На главную</Link>\n          <Link to='/news'>Новости</Link>\n          <Link to='/profile'>Профиль</Link>\n          <Link to='/login'>{!id ? \"Войти\" : \"Выйти\"}</Link>\n        </div>\n\n\n        <Switch>\n          <Route  path='/home' component={Home} />\n          <Route  path='/news' component={NewsContainer} />\n          <Route  path='/profile' render={() => id ? <ProfileContainer /> : <Redirect  from='/profile' to='/login' />} />\n          <Route  path='/login' component={LoginContainer} />\n          <Redirect exact from='/' to='/home' />\n          <Route  component={NotFound} />\n        </Switch>\n\n        \n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = store => {\n  return {\n    id: store.login.id,\n  }\n}\n\n\n\nexport default connect(\n  mapStateToProps\n)(App)\n\n\nApp.propTypes = {\n  id: PropTypes.number.isRequired,\n}","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter } from 'react-router-dom'\nimport { Provider } from 'react-redux'\nimport { store } from './store/configureStore'\nimport App from './components/App'\n\nimport registerServiceWorker from './registerServiceWorker'\n\nimport './index.css'\n\nReactDOM.render((\n\n  <Provider store={store}>\n    <BrowserRouter>\n    <App />\n    </BrowserRouter>\n  </Provider>),\n  document.getElementById('root')\n)\nregisterServiceWorker()\n"],"sourceRoot":""}